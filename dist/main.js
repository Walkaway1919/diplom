!function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r=(e,t,n,l,a,c)=>{e.style[t]=n+"%",e.style.display="block",(0!==a&&a>0?n<=l:n>=l)?(n+=a,requestAnimationFrame(()=>{r(e,t,n,l,a,c)})):(e.style[t]=l+"%",c())};var l=r;var a=e=>{let t=document.querySelector(e),n=t.querySelector(".popup-content");return t.addEventListener("click",e=>{let r=e.target.closest(".popup-content");!e.target.classList.contains("popup-close")&&r||(e.preventDefault(),l(n,"top",25,100,10,()=>{l(t,"opacity",100,0,-3,()=>{t.style.display="none"})}))}),{openPopup(){n.style.top="-100%",l(t,"opacity",0,100,5,()=>{l(n,"top",-100,25,5,()=>{})})},trigger(e){document.addEventListener("click",t=>{t.target.classList.contains(e)&&(t.preventDefault(),this.openPopup())})}}};var c=e=>{let t=document.getElementById(e),n=t.querySelectorAll(".panel-default");const r=e=>{let t=e.querySelector(".panel-collapse");t&&(t.classList.contains("in")?t.classList.remove("in"):(t.classList.add("in"),n.forEach(t=>{if(e!==t){let e=t.querySelector(".panel-collapse");e&&e.classList.remove("in")}})))};t.addEventListener("click",e=>{if(e.target.classList.contains("panel-heading")||e.target.closest(".panel-heading")){e.preventDefault();let t=e.target.closest(".panel-default");r(t)}if(e.target.classList.contains("construct-btn")||e.target.closest(".construct-btn")){e.preventDefault();let t=!1;n.forEach((e,n)=>{let r=e.querySelector(".panel-collapse");r&&r.classList.contains("in")&&(t=n)}),t<n.length-1&&r(n[t+1])}})};var o=()=>{let e=document.getElementById("accordion"),t=document.getElementById("myonoffswitch"),n=document.getElementById("well-two"),r=document.getElementById("calc-result"),l=document.querySelector(".save_calc_data_here"),a=document.createElement("input"),c={};a.type="hidden",a.name="calc_results",l.prepend(a);const o=e=>{"checkbox"===e.type?c[e.name]=e.checked:c[e.name]=e.value,i()},s=()=>{t.checked?n.style.display="none":n.style.display="block",i()},i=()=>{let e=c.septic_type?1e4:15e3,t=100;"2 метра"===c.septic_well_1_d&&(t+=20),"2 штуки"===c.septic_well_1_a?t+=30:"3 штуки"===c.septic_well_1_a&&(t+=50),c.septic_type||("2 метра"===c.septic_well_2_d&&(t+=20),"2 штуки"===c.septic_well_2_a?t+=30:"3 штуки"===c.septic_well_2_a&&(t+=50));let n=e*t/100;c.bottom_exist&&(n+=c.septic_type?1e3:2e3),r.value=n,c.calc_result=n,a.value=JSON.stringify(c)};s(),e.querySelectorAll("input,select").forEach(e=>o(e)),t.addEventListener("change",s),e.addEventListener("change",e=>o(e.target))};var s=()=>{let e=document.querySelector(".add-sentence-btn"),t=e.parentNode;e.addEventListener("click",()=>{t.querySelectorAll(".col-xs-12").forEach(e=>{e.classList.remove("visible-sm-block"),e.classList.remove("hidden")}),e.style.display="none"})};var i=()=>{document.addEventListener("input",(function(e){if("user_name"===e.target.name){let t=/[^а-яА-Я\s]{0,}/g;e.target.value=e.target.value.replace(t,"")}if("user_phone"===e.target.name){let t=/^\+?\d{0,11}/g;e.target.value=e.target.value.match(t)[0]}if("user_quest"===e.target.name){let t=/[^?!,.а-яА-ЯёЁ0-9\s]+$/;e.target.value=e.target.value.replace(t,"")}}))};var u=()=>{const e=document.createElement("div");let t=a(".popup-consultation");document.addEventListener("submit",n=>{if(n.preventDefault(),n.target.classList.contains("director-form")){const e=new FormData(n.target);let r=JSON.stringify(Object.fromEntries(e)),l=document.createElement("input");l.type="hidden",l.name="question",l.value=r,document.querySelector(".popup-consultation").querySelector("form").prepend(l),t.openPopup()}else{let t=n.target.querySelectorAll("button, input[type=submit]");t.forEach(e=>{e.disabled=!0}),n.target.appendChild(e),e.textContent="Load";let r=document.querySelector("img.status");r||(r=document.createElement("img"),r.classList.add("status"),r.style.width="64px",r.style.height="64px",n.target.append(r)),r.src="img/spinner.gif";const l=new FormData(n.target);e.style.display="block",fetch("server.php",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:l}).then(t=>{if(200!==t.status)throw new Error;r.src="img/success.png",e.textContent="Success",n.target.reset()}).catch(t=>{e.textContent="Error",r.src="img/error.png"}).finally(()=>{setTimeout(()=>{e.style.display="none",document.querySelector("img.status").remove(),t.forEach(e=>{e.disabled=!1})},5e3)})}})};a(".popup-call").trigger("call-btn"),a(".popup-discount").trigger("discount-btn"),a(".popup-check").trigger("check-btn"),c("accordion-two"),c("accordion"),o(),s(),i(),u()}]);